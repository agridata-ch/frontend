<div class="flex flex-row gap-4 justify-end">
  @if (mainAction()) {
    <button
      click-stop-propagation
      type="button"
      (click)="handleClick(mainAction()!)"
      class="agridata-button agridata-button-primary-accept"
    >
      {{ mainAction()?.label }}
    </button>
  }
  <button
    click-stop-propagation
    type="button"
    (click)="handleToggle()"
    [attr.aria-expanded]="isOpen()"
    aria-haspopup="menu"
    class="agridata-button agridata-button-secondary table-action-button"
  >
    <fa-icon [icon]="iconEllipsis" />
  </button>
  @if (isOpen()) {
    <div class="absolute z-10 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden">
      <ul>
        @for (action of actions(); track action.label) {
          <li
            click-stop-propagation
            class="px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer"
            (click)="handleClick(action)"
            (keydown.enter)="handleClick(action)"
          >
            @if (action.icon) {
              <fa-icon [icon]="action.icon" class="mr-2" />
            }
            {{ action.label }}
          </li>
        }
      </ul>
    </div>
  }
</div>
