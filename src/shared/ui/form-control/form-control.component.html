<div class="flex flex-col">
  <label [for]="id()" class="mb-2 font-medium leading-[130%]" [class.text-red-500]="hasError()">{{
    label()
  }}</label>
  @if (controlType() === ControlTypes.INPUT) {
    <input
      [id]="id()"
      [name]="id()"
      [formControl]="control()!"
      [type]="type()"
      [placeholder]="placeholder()"
      (blur)="onBlur.emit()"
      class="border rounded-md border-gray-300 pl-5 py-3 pr-4 placeholder-gray-400 bg-white"
      [class.border-red-500]="hasError()"
      [attr.maxlength]="getMaxCharacters()"
    />
  }
  @if (controlType() === ControlTypes.SELECT) {
    <app-agridata-select
      [control]="control()"
      [options]="options()"
      [placeholder]="placeholder()"
      [hasError]="hasError()"
    />
  }
  @if (controlType() === ControlTypes.MULTI_SELECT) {
    <app-agridata-multi-select
      [control]="control()"
      [options]="options()"
      [placeholder]="placeholder()"
      [hasError]="hasError()"
    />
  }
  @if (controlType() === ControlTypes.TEXT_AREA) {
    <app-agridata-textarea
      [control]="control()"
      [id]="id()!"
      [placeholder]="placeholder()"
      (onBlur)="onBlur.emit()"
      [maxCharacters]="getMaxCharacters()"
      [hasError]="hasError()"
    />
  }
  <span class="min-h-[1.5em] text-red-500 block">
    @if (hasError()) {
      <span class="text-sm">{{ errorMessage() }}</span>
    }
  </span>
</div>
